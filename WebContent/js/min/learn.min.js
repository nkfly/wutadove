function pronunciationHiraganaClick(){}function toggleChinese(){$(".chinese-item").toggle()}function toggleJapanese(){$(".japanese-item").toggle(),$(".japanese-item").next().toggle()}function toggleButtonColor(a,t){a?$(t).css("color",buttonOnColor):$(t).css("color",buttonOffColor)}function onYouTubeIframeAPIReady(){player=new YT.Player("youtube",{events:{onReady:onPlayerReady}})}function onPlayerReady(){setInterval(updatePlayerInfo,UPDATE_INTERVAL),player.addEventListener("onStateChange",function(a){a.data==YT.PlayerState.PLAYING||a.data==YT.PlayerState.BUFFERING?($(".nano-content").css("overflow-y","hidden"),$(".nano-pane").css("visibility","hidden")):($(".nano-content").css("overflow-y","auto"),$(".nano-pane").css("visibility","visible"))}),$(document).ready(function(){$(".fa.fa-play-circle").click(function(a){repeatIndex=this.id,(player.getPlayerState()!=YT.PlayerState.PLAYING||player.getPlayerState()!=YT.PlayerState.BUFFERING)&&player.playVideo(),player.seekTo(captionList[this.id].startTime),approximateTime=captionList[this.id].startTime,skipOneUpdate=!0,a.stopPropagation()})})}function updatePlayerInfo(){var a=findCurrentIndex(getCurrentTime()),t=a.index,n=a.lyric;return!isRepeat||""!=n&&t==repeatIndex?($("#caption-detail").html(n),preIndex!=t&&$("#caption-list .caption-item:nth-child("+(preIndex+1)+")").css("background-color","inherit"),$("#caption-list .caption-item:nth-child("+(t+1)+")").css("background-color","#FFFF99"),preIndex=t,repeatIndex=t,t-=2,0>t&&(t=0),void((player.getPlayerState()==YT.PlayerState.PLAYING||player.getPlayerState()==YT.PlayerState.BUFFERING)&&$(".nano").nanoScroller({scrollTo:$("#"+t).parent()}))):void player.seekTo(captionList[repeatIndex].startTime)}function getCurrentTime(){var a=player.getCurrentTime();return lastUpdateTime==a?player.getPlayerState()==YT.PlayerState.PLAYING&&(approximateTime+=.05):(skipOneUpdate?(player.getPlayerState()==YT.PlayerState.PLAYING&&(approximateTime+=.05),skipOneUpdate=!1):approximateTime=a,lastUpdateTime=a),approximateTime}function findCurrentIndex(a){for(var t=0,n=captionList.length-1;n>=t;){var e=Math.floor((t+n)/2),i=compareTime(a,captionList[e]);if(0==i)return{index:e,lyric:getCurrentLyric(e)};-1==i?n=e-1:1==i&&(t=e+1)}return{index:e,lyric:""}}function compareTime(a,t){return a<t.startTime||a>t.endTime?a<t.startTime?-1:a>t.endTime?1:void 0:0}function getCurrentLyric(a){var t="<span>";return japaneseOn&&(t+=captionList[a].japanese),t+="</span><br /><span>",chineseOn&&(t+=captionList[a].chinese),t+="</span>"}var chineseOn=!0,japaneseOn=!0,buttonBackground="#6E6E6E",buttonOnColor="#FF0000",buttonOffColor="#6E6E6E";$(document).ready(function(){$("#toggle-ch").click(function(){chineseOn=!chineseOn,toggleChinese(),toggleButtonColor(chineseOn,this)}),$("#toggle-jp").click(function(){japaneseOn=!japaneseOn,toggleJapanese(),toggleButtonColor(japaneseOn,this)}),$(".hiragana").each(function(){var a='<span class="romaji">'+wanakana.toRomaji(this.innerHTML)+"</span><br>";$(this).next().after(a)}),$(".addHiragana").each(function(){var a=wanakana.toRomaji(this.innerHTML);if(wanakana.isKana(this.innerHTML)&&""!=a){$(this).hasClass("wa")&&(a="wa");var a='<span class="romaji">'+a+"</span><br>";$(this).before(a)}});var a=40,t=405,n=0;$(".lyric-item").each(function(){$(this).width()>n&&(n=$(this).width())}),n+=a,t>n&&(n=t),$("#caption-list").width(n),$(".caption-item").width(n),$("#topHalf").css("padding-left",n+4);var e=n,i=$("#pronunciation-none");$("#pronunciation-none").click(function(){i.css("color","#6E6E6E"),$("#pronunciation-type").css("color","#6E6E6E"),i=$(this).css("color","#FF0000"),$(".hiragana").css("display","none"),$(".hiragana + br").css("display","none"),$(".romaji").css("display","none"),$(".romaji + br").css("display","none"),$("#caption-list").width(e),$(".caption-item").width(e),$("#topHalf").css("padding-left",e+4)}),$("#pronunciation-hiragana").click(function(){i.css("color","#6E6E6E"),$("#pronunciation-type").css("color","#FF0000"),i=$(this).css("color","#FF0000"),$(".romaji").css("display","none"),$(".romaji + br").css("display","none"),$(".hiragana").css("display","inline"),$(".hiragana + br").css("display","inline");var t=0;$(".lyric-item").each(function(){$(this).width()>t&&(t=$(this).width())}),t+=a,e>t&&(t=e),$("#caption-list").width(t),$(".caption-item").width(t),$("#topHalf").css("padding-left",t+4)}),$("#pronunciation-hiragana").trigger("click"),$("#pronunciation-romaji").click(function(){i.css("color","#6E6E6E"),$("#pronunciation-type").css("color","#FF0000"),i=$(this).css("color","#FF0000"),$(".hiragana").css("display","none"),$(".hiragana + br").css("display","none"),$(".romaji").css("display","inline"),$(".romaji + br").css("display","inline");var t=0;$(".lyric-item").each(function(){$(this).width()>t&&(t=$(this).width())}),t+=a,e>t&&(t=e),$("#caption-list").width(t),$(".caption-item").width(t),$("#topHalf").css("padding-left",t+4)}),$("#repeat").click(function(){isRepeat=!isRepeat,isRepeat?$(this).css("animation-play-state","running"):$(this).css("animation-play-state","paused")}),$("#play-previous").click(function(){repeatIndex-=1,player.seekTo(captionList[repeatIndex].startTime),approximateTime=captionList[repeatIndex].startTime,skipOneUpdate=!0}),$("#play-next").click(function(){repeatIndex+=1,player.seekTo(captionList[repeatIndex].startTime),approximateTime=captionList[repeatIndex].startTime,skipOneUpdate=!0}),$(".caption-item").popover({html:!0,content:function(){return $(this).find(".grammar").html()},placement:function(){var a=$("#caption-list").offset().left;return 400>a?"right":"left"}}),$(".caption-item").on("show.bs.popover",function(){var a=$("#caption-list").offset().left;a-=20,a>300&&(a=300),380>a?(a=$("#caption-detail").width()-15,$("#dynamicPopoverWidth").text($(this).find("div.no-grammar").length>0?".popover { max-width: 100px; width: 100px; }":".popover { max-width: "+a+"px; width: "+a+"px; }")):$("#dynamicPopoverWidth").text(".popover { max-width: "+a+"px; }")});{var o;$("#caption-list").offset().top}$(".caption-item").on("shown.bs.popover",function(){o=$(".nano-content").scrollTop()}),$(".nano-content").scroll(function(){if(0!=$(".popover").length){var a=$(".nano-content").scrollTop();$(".popover:last").css("top",parseInt($(".popover:last").css("top"))-(a-o)),o=a}}),$("body").on("click",function(a){$("[data-toggle='popover']").each(function(){$(this).is(a.target)||0!==$(this).has(a.target).length||0!==$(".popover").has(a.target).length||$(this).popover("hide")})}),$(".nano").nanoScroller({preventPageScrolling:!1}),$("[data-toggle='tooltip']").tooltip();var r=$("#report-form")[0];$("#submit-report").click(function(){$.post("/report",{type:r.elements[0].value,description:r.elements[1].value},function(){}),r.reset(),$("#thanks").delay(200).fadeIn("fast").delay(1e3).fadeOut("slow")}),$("#thanks button").click(function(){$("#thanks").hide()})});var wanakana,__indexOf=[].indexOf||function(a){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===a)return t;return-1};wanakana=wanakana||{},wanakana.version="1.3.6","function"==typeof define&&define.amd&&define("wanakana",[],function(){return wanakana}),wanakana.LOWERCASE_START=97,wanakana.LOWERCASE_END=122,wanakana.UPPERCASE_START=65,wanakana.UPPERCASE_END=90,wanakana.HIRAGANA_START=12353,wanakana.HIRAGANA_END=12438,wanakana.KATAKANA_START=12449,wanakana.KATAKANA_END=12538,wanakana.LOWERCASE_FULLWIDTH_START=65345,wanakana.LOWERCASE_FULLWIDTH_END=65370,wanakana.UPPERCASE_FULLWIDTH_START=65313,wanakana.UPPERCASE_FULLWIDTH_END=65338,wanakana.defaultOptions={useObseleteKana:!1,IMEMode:!1},wanakana.bind=function(a){return a.addEventListener("input",wanakana._onInput)},wanakana.unbind=function(a){return a.removeEventListener("input",wanakana._onInput)},wanakana._onInput=function(a){var t,n,e,i,o,r;if(t=a.target,o=t.selectionStart,r=t.value.length,e=wanakana._convertFullwidthCharsToASCII(t.value),n=wanakana.toKana(e,{IMEMode:!0}),e!==n){if(t.value=n,"number"==typeof t.selectionStart)return t.selectionStart=t.selectionEnd=t.value.length;if(void 0!==t.createTextRange)return t.focus(),i=t.createTextRange(),i.collapse(!1),i.select()}},wanakana._extend=function(a,t){var n;if(null==a)return t;for(n in t)null==a[n]&&null!=t[n]&&(a[n]=t[n]);return a},wanakana._allTrue=function(a,t){var n,e,i;for(e=0,i=a.length;i>e;e++)if(n=a[e],t(n)===!1)return!1;return!0},wanakana._isCharInRange=function(a,t,n){var e;return e=a.charCodeAt(0),e>=t&&n>=e},wanakana._isCharVowel=function(a,t){var n;return null==t&&(t=!0),n=t?/[aeiouy]/:/[aeiou]/,-1!==a.toLowerCase().charAt(0).search(n)},wanakana._isCharConsonant=function(a,t){var n;return null==t&&(t=!0),n=t?/[bcdfghjklmnpqrstvwxyz]/:/[bcdfghjklmnpqrstvwxz]/,-1!==a.toLowerCase().charAt(0).search(n)},wanakana._isCharKatakana=function(a){return wanakana._isCharInRange(a,wanakana.KATAKANA_START,wanakana.KATAKANA_END)},wanakana._isCharHiragana=function(a){return wanakana._isCharInRange(a,wanakana.HIRAGANA_START,wanakana.HIRAGANA_END)},wanakana._isCharKana=function(a){return wanakana._isCharHiragana(a)||wanakana._isCharKatakana(a)},wanakana._isCharNotKana=function(a){return!wanakana._isCharHiragana(a)&&!wanakana._isCharKatakana(a)},wanakana._convertFullwidthCharsToASCII=function(a){var t,n,e,i,o,r;for(n=a.split(""),i=o=0,r=n.length;r>o;i=++o)t=n[i],e=t.charCodeAt(0),wanakana._isCharInRange(t,wanakana.LOWERCASE_FULLWIDTH_START,wanakana.LOWERCASE_FULLWIDTH_END)&&(n[i]=String.fromCharCode(e-wanakana.LOWERCASE_FULLWIDTH_START+wanakana.LOWERCASE_START)),wanakana._isCharInRange(t,wanakana.UPPERCASE_FULLWIDTH_START,wanakana.UPPERCASE_FULLWIDTH_END)&&n[i](String.fromCharCode(e-wanakana.UPPERCASE_FULLWIDTH_START+wanakana.UPPERCASE_START));return n.join("")},wanakana._katakanaToHiragana=function(a){var t,n,e,i,o,r,s;for(n=[],s=a.split(""),o=0,r=s.length;r>o;o++)i=s[o],wanakana._isCharKatakana(i)?(t=i.charCodeAt(0),t+=wanakana.HIRAGANA_START-wanakana.KATAKANA_START,e=String.fromCharCode(t),n.push(e)):n.push(i);return n.join("")},wanakana._hiraganaToKatakana=function(a){var t,n,e,i,o,r,s;for(e=[],s=a.split(""),o=0,r=s.length;r>o;o++)n=s[o],wanakana._isCharHiragana(n)?(t=n.charCodeAt(0),t+=wanakana.KATAKANA_START-wanakana.HIRAGANA_START,i=String.fromCharCode(t),e.push(i)):e.push(n);return e.join("")},wanakana._hiraganaToRomaji=function(a,t){var n,e,i,o,r,s,l,c,h,p;for(t=wanakana._extend(t,wanakana.defaultOptions),r=a.length,h=[],i=0,e=0,s=2,o=function(){return a.substr(i,e)},c=function(){return e=Math.min(s,r-i)};r>i;){for(c();e>0;){if(n=o(),wanakana.isKatakana(n)&&(n=wanakana._katakanaToHiragana(n)),"っ"===n.charAt(0)&&1===e&&r-1>i){l=!0,p="";break}if(p=wanakana.J_to_R[n],null!=p&&l&&(p=p.charAt(0).concat(p),l=!1),null!=p)break;e--}null==p&&(p=n),h.push(p),i+=e||1}return h.join("")},wanakana._romajiToHiragana=function(a,t){return wanakana._romajiToKana(a,t,!0)},wanakana._romajiToKana=function(a,t,n){var e,i,o,r,s,l,c,h,p,u;for(null==n&&(n=!1),t=wanakana._extend(t,wanakana.defaultOptions),p=a.length,c=[],r=0,u=3,s=function(){return a.substr(r,o)},l=function(a){return wanakana._isCharInRange(a,wanakana.UPPERCASE_START,wanakana.UPPERCASE_END)};p>r;){for(o=Math.min(u,p-r);o>0;){if(e=s(),i=e.toLowerCase(),__indexOf.call(wanakana.FOUR_CHARACTER_EDGE_CASES,i)<0||p-r<4){if("n"===i.charAt(0)){if(t.IMEMode&&"'"===i.charAt(1)&&2===o){h="ん";break}wanakana._isCharConsonant(i.charAt(1),!1)&&wanakana._isCharVowel(i.charAt(2))&&(o=1,e=s(),i=e.toLowerCase())}"n"!==i.charAt(0)&&wanakana._isCharConsonant(i.charAt(0))&&e.charAt(0)===e.charAt(1)&&(o=1,i=e=wanakana._isCharInRange(e.charAt(0),wanakana.UPPERCASE_START,wanakana.UPPERCASE_END)?"ッ":"っ")}else o++,e=s(),i=e.toLowerCase();if(h=wanakana.R_to_J[i],null!=h)break;4===o?o-=2:o--}null==h&&(e=wanakana._convertPunctuation(e),h=e),(null!=t?t.useObseleteKana:void 0)&&("wi"===i&&(h="ゐ"),"we"===i&&(h="ゑ")),t.IMEMode&&"n"===i.charAt(0)&&("y"===a.charAt(r+1).toLowerCase()&&wanakana._isCharVowel(a.charAt(r+2))===!1||r===p-1||wanakana.isKana(a.charAt(r+1)))&&(h=e.charAt(0)),n||l(e.charAt(0))&&(h=wanakana._hiraganaToKatakana(h)),c.push(h),r+=o||1}return c.join("")},wanakana._convertPunctuation=function(a){return"　"===a?" ":"-"===a?"ー":a},wanakana.isHiragana=function(a){var t;return t=a.split(""),wanakana._allTrue(t,wanakana._isCharHiragana)},wanakana.isKatakana=function(a){var t;return t=a.split(""),wanakana._allTrue(t,wanakana._isCharKatakana)},wanakana.isKana=function(a){var t;return t=a.split(""),wanakana._allTrue(t,function(a){return wanakana.isHiragana(a)||wanakana.isKatakana(a)})},wanakana.isRomaji=function(a){var t;return t=a.split(""),wanakana._allTrue(t,function(a){return!wanakana.isHiragana(a)&&!wanakana.isKatakana(a)})},wanakana.toHiragana=function(a,t){return wanakana.isRomaji(a)?a=wanakana._romajiToHiragana(a,t):wanakana.isKatakana(a)?a=wanakana._katakanaToHiragana(a,t):a},wanakana.toKatakana=function(a,t){return wanakana.isHiragana(a)?a=wanakana._hiraganaToKatakana(a,t):wanakana.isRomaji(a)?(a=wanakana._romajiToHiragana(a,t),a=wanakana._hiraganaToKatakana(a,t)):a},wanakana.toKana=function(a,t){return a=wanakana._romajiToKana(a,t)},wanakana.toRomaji=function(a){return a=wanakana._hiraganaToRomaji(a)},wanakana.R_to_J={a:"あ",i:"い",u:"う",e:"え",o:"お",yi:"い",wu:"う",whu:"う",xa:"ぁ",xi:"ぃ",xu:"ぅ",xe:"ぇ",xo:"ぉ",xyi:"ぃ",xye:"ぇ",ye:"いぇ",wha:"うぁ",whi:"うぃ",whe:"うぇ",who:"うぉ",wi:"うぃ",we:"うぇ",va:"ゔぁ",vi:"ゔぃ",vu:"ゔ",ve:"ゔぇ",vo:"ゔぉ",vya:"ゔゃ",vyi:"ゔぃ",vyu:"ゔゅ",vye:"ゔぇ",vyo:"ゔょ",ka:"か",ki:"き",ku:"く",ke:"け",ko:"こ",lka:"ヵ",lke:"ヶ",xka:"ヵ",xke:"ヶ",kya:"きゃ",kyi:"きぃ",kyu:"きゅ",kye:"きぇ",kyo:"きょ",ca:"か",ci:"き",cu:"く",ce:"け",co:"こ",lca:"ヵ",lce:"ヶ",xca:"ヵ",xce:"ヶ",qya:"くゃ",qyu:"くゅ",qyo:"くょ",qwa:"くぁ",qwi:"くぃ",qwu:"くぅ",qwe:"くぇ",qwo:"くぉ",qa:"くぁ",qi:"くぃ",qe:"くぇ",qo:"くぉ",kwa:"くぁ",qyi:"くぃ",qye:"くぇ",ga:"が",gi:"ぎ",gu:"ぐ",ge:"げ",go:"ご",gya:"ぎゃ",gyi:"ぎぃ",gyu:"ぎゅ",gye:"ぎぇ",gyo:"ぎょ",gwa:"ぐぁ",gwi:"ぐぃ",gwu:"ぐぅ",gwe:"ぐぇ",gwo:"ぐぉ",sa:"さ",si:"し",shi:"し",su:"す",se:"せ",so:"そ",za:"ざ",zi:"じ",zu:"ず",ze:"ぜ",zo:"ぞ",ji:"じ",sya:"しゃ",syi:"しぃ",syu:"しゅ",sye:"しぇ",syo:"しょ",sha:"しゃ",shu:"しゅ",she:"しぇ",sho:"しょ",shya:"しゃ",shyu:"しゅ",shye:"しぇ",shyo:"しょ",swa:"すぁ",swi:"すぃ",swu:"すぅ",swe:"すぇ",swo:"すぉ",zya:"じゃ",zyi:"じぃ",zyu:"じゅ",zye:"じぇ",zyo:"じょ",ja:"じゃ",ju:"じゅ",je:"じぇ",jo:"じょ",jya:"じゃ",jyi:"じぃ",jyu:"じゅ",jye:"じぇ",jyo:"じょ",ta:"た",ti:"ち",tu:"つ",te:"て",to:"と",chi:"ち",tsu:"つ",ltu:"っ",xtu:"っ",tya:"ちゃ",tyi:"ちぃ",tyu:"ちゅ",tye:"ちぇ",tyo:"ちょ",cha:"ちゃ",chu:"ちゅ",che:"ちぇ",cho:"ちょ",cya:"ちゃ",cyi:"ちぃ",cyu:"ちゅ",cye:"ちぇ",cyo:"ちょ",chya:"ちゃ",chyu:"ちゅ",chye:"ちぇ",chyo:"ちょ",tsa:"つぁ",tsi:"つぃ",tse:"つぇ",tso:"つぉ",tha:"てゃ",thi:"てぃ",thu:"てゅ",the:"てぇ",tho:"てょ",twa:"とぁ",twi:"とぃ",twu:"とぅ",twe:"とぇ",two:"とぉ",da:"だ",di:"ぢ",du:"づ",de:"で","do":"ど",dya:"ぢゃ",dyi:"ぢぃ",dyu:"ぢゅ",dye:"ぢぇ",dyo:"ぢょ",dha:"でゃ",dhi:"でぃ",dhu:"でゅ",dhe:"でぇ",dho:"でょ",dwa:"どぁ",dwi:"どぃ",dwu:"どぅ",dwe:"どぇ",dwo:"どぉ",na:"な",ni:"に",nu:"ぬ",ne:"ね",no:"の",nya:"にゃ",nyi:"にぃ",nyu:"にゅ",nye:"にぇ",nyo:"にょ",ha:"は",hi:"ひ",hu:"ふ",he:"へ",ho:"ほ",fu:"ふ",hya:"ひゃ",hyi:"ひぃ",hyu:"ひゅ",hye:"ひぇ",hyo:"ひょ",fya:"ふゃ",fyu:"ふゅ",fyo:"ふょ",fwa:"ふぁ",fwi:"ふぃ",fwu:"ふぅ",fwe:"ふぇ",fwo:"ふぉ",fa:"ふぁ",fi:"ふぃ",fe:"ふぇ",fo:"ふぉ",fyi:"ふぃ",fye:"ふぇ",ba:"ば",bi:"び",bu:"ぶ",be:"べ",bo:"ぼ",bya:"びゃ",byi:"びぃ",byu:"びゅ",bye:"びぇ",byo:"びょ",pa:"ぱ",pi:"ぴ",pu:"ぷ",pe:"ぺ",po:"ぽ",pya:"ぴゃ",pyi:"ぴぃ",pyu:"ぴゅ",pye:"ぴぇ",pyo:"ぴょ",ma:"ま",mi:"み",mu:"む",me:"め",mo:"も",mya:"みゃ",myi:"みぃ",myu:"みゅ",mye:"みぇ",myo:"みょ",ya:"や",yu:"ゆ",yo:"よ",xya:"ゃ",xyu:"ゅ",xyo:"ょ",ra:"ら",ri:"り",ru:"る",re:"れ",ro:"ろ",rya:"りゃ",ryi:"りぃ",ryu:"りゅ",rye:"りぇ",ryo:"りょ",la:"ら",li:"り",lu:"る",le:"れ",lo:"ろ",lya:"りゃ",lyi:"りぃ",lyu:"りゅ",lye:"りぇ",lyo:"りょ",wa:"わ",wo:"を",lwe:"ゎ",xwa:"ゎ",n:"ん",nn:"ん","n ":"ん",xn:"ん",ltsu:"っ"},wanakana.FOUR_CHARACTER_EDGE_CASES=["lts","chy","shy"],wanakana.J_to_R={"あ":"a","い":"i","う":"u","え":"e","お":"o","ゔぁ":"va","ゔぃ":"vi","ゔ":"vu","ゔぇ":"ve","ゔぉ":"vo","か":"ka","き":"ki","きゃ":"kya","きぃ":"kyi","きゅ":"kyu","く":"ku","け":"ke","こ":"ko","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ぎゃ":"gya","ぎぃ":"gyi","ぎゅ":"gyu","ぎぇ":"gye","ぎょ":"gyo","さ":"sa","す":"su","せ":"se","そ":"so","ざ":"za","ず":"zu","ぜ":"ze","ぞ":"zo","し":"shi","しゃ":"sha","しゅ":"shu","しょ":"sho","じ":"ji","じゃ":"ja","じゅ":"ju","じょ":"jo","た":"ta","ち":"chi","ちゃ":"cha","ちゅ":"chu","ちょ":"cho","つ":"tsu","て":"te","と":"to","だ":"da","ぢ":"di","づ":"du","で":"de","ど":"do","な":"na","に":"ni","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ぬ":"nu","ね":"ne","の":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","ふぁ":"fa","ふぃ":"fi","ふぇ":"fe","ふぉ":"fo","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","みゃ":"mya","みゅ":"myu","みょ":"myo","や":"ya","ゆ":"yu","よ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","りゃ":"rya","りゅ":"ryu","りょ":"ryo","わ":"wa","を":"wo","ん":"n","ゐ":"wi","ゑ":"we","きぇ":"kye","きょ":"kyo","じぃ":"jyi","じぇ":"jye","ちぃ":"cyi","ちぇ":"che","ひぃ":"hyi","ひぇ":"hye","びぃ":"byi","びぇ":"bye","ぴぃ":"pyi","ぴぇ":"pye","みぇ":"mye","みぃ":"myi","りぃ":"ryi","りぇ":"rye","にぃ":"nyi","にぇ":"nye","しぃ":"syi","しぇ":"she","いぇ":"ye","うぁ":"wha","うぉ":"who","うぃ":"wi","うぇ":"we","ゔゃ":"vya","ゔゅ":"vyu","ゔょ":"vyo","すぁ":"swa","すぃ":"swi","すぅ":"swu","すぇ":"swe","すぉ":"swo","くゃ":"qya","くゅ":"qyu","くょ":"qyo","くぁ":"qwa","くぃ":"qwi","くぅ":"qwu","くぇ":"qwe","くぉ":"qwo","ぐぁ":"gwa","ぐぃ":"gwi","ぐぅ":"gwu","ぐぇ":"gwe","ぐぉ":"gwo","つぁ":"tsa","つぃ":"tsi","つぇ":"tse","つぉ":"tso","てゃ":"tha","てぃ":"thi","てゅ":"thu","てぇ":"the","てょ":"tho","とぁ":"twa","とぃ":"twi","とぅ":"twu","とぇ":"twe","とぉ":"two","ぢゃ":"dya","ぢぃ":"dyi","ぢゅ":"dyu","ぢぇ":"dye","ぢょ":"dyo","でゃ":"dha","でぃ":"dhi","でゅ":"dhu","でぇ":"dhe","でょ":"dho","どぁ":"dwa","どぃ":"dwi","どぅ":"dwu","どぇ":"dwe","どぉ":"dwo","ふぅ":"fwu","ふゃ":"fya","ふゅ":"fyu","ふょ":"fyo","ぁ":"a","ぃ":"i","ぇ":"e","ぅ":"u","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","っ":"","ゕ":"ka","ゖ":"ka","ゎ":"wa","　":" ","んあ":"n'a","んい":"n'i","んう":"n'u","んえ":"n'e","んお":"n'o","んや":"n'ya","んゆ":"n'yu","んよ":"n'yo"},window.fbAsyncInit=function(){FB.init({appId:"396120470510136",xfbml:!0,version:"v2.0"})},function(a,t,n){var e,i=a.getElementsByTagName(t)[0];a.getElementById(n)||(e=a.createElement(t),e.id=n,e.src="//connect.facebook.net/zh_TW/sdk.js",i.parentNode.insertBefore(e,i))}(document,"script","facebook-jssdk");var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var player,UPDATE_INTERVAL=50,preIndex=0;repeatIndex=0,isRepeat=!1;var lastUpdateTime=0,approximateTime=0,skipOneUpdate=!1;/*! nanoScrollerJS - v0.8.4 - (c) 2014 James Florentino; Licensed MIT */
!function(a,t,n){"use strict";var e,i,o,r,s,l,c,h,p,u,d,y,g,f,w,v,k,m,T,S,A,$,E,C,_,b,x,R,I,H,P;E={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},m="scrollbar",k="scroll",p="mousedown",u="mouseenter",d="mousemove",g="mousewheel",y="mouseup",v="resize",s="drag",l="enter",S="up",w="panedown",o="DOMMouseScroll",r="down",A="wheel",c="keydown",h="keyup",T="touchmove",e="Microsoft Internet Explorer"===t.navigator.appName&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject,i=null,x=t.requestAnimationFrame,$=t.cancelAnimationFrame,I=n.createElement("div").style,P=function(){var a,t,n,e,i,o;for(e=["t","webkitT","MozT","msT","OT"],a=i=0,o=e.length;o>i;a=++i)if(n=e[a],t=e[a]+"ransform",t in I)return e[a].substr(0,e[a].length-1);return!1}(),H=function(a){return P===!1?!1:""===P?a:P+a.charAt(0).toUpperCase()+a.substr(1)},R=H("transform"),_=R!==!1,C=function(){var a,t,e;return a=n.createElement("div"),t=a.style,t.position="absolute",t.width="100px",t.height="100px",t.overflow=k,t.top="-9999px",n.body.appendChild(a),e=a.offsetWidth-a.clientWidth,n.body.removeChild(a),e},b=function(){var a,n,e;return n=t.navigator.userAgent,(a=/(?=.+Mac OS X)(?=.+Firefox)/.test(n))?(e=/Firefox\/\d{2}\./.exec(n),e&&(e=e[0].replace(/\D+/g,"")),a&&+e>23):!1},f=function(){function c(e,o){this.el=e,this.options=o,i||(i=C()),this.$el=a(this.el),this.doc=a(this.options.documentContext||n),this.win=a(this.options.windowContext||t),this.body=this.doc.find("body"),this.$content=this.$el.children("."+o.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return c.prototype.preventScrolling=function(a,t){if(this.isActive)if(a.type===o)(t===r&&a.originalEvent.detail>0||t===S&&a.originalEvent.detail<0)&&a.preventDefault();else if(a.type===g){if(!a.originalEvent||!a.originalEvent.wheelDelta)return;(t===r&&a.originalEvent.wheelDelta<0||t===S&&a.originalEvent.wheelDelta>0)&&a.preventDefault()}},c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},c.prototype.updateScrollValues=function(){var a,t;a=this.content,this.maxScrollTop=a.scrollHeight-a.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=a.scrollTop,t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==t&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},c.prototype.setOnScrollStyles=function(){var a;_?(a={},a[R]="translate(0, "+this.sliderTop+"px)"):a={top:this.sliderTop},x?($&&this.scrollRAF&&$(this.scrollRAF),this.scrollRAF=x(function(t){return function(){return t.scrollRAF=null,t.slider.css(a)}}(this))):this.slider.css(a)},c.prototype.createEvents=function(){this.events={down:function(a){return function(t){return a.isBeingDragged=!0,a.offsetY=t.pageY-a.slider.offset().top,a.slider.is(t.target)||(a.offsetY=0),a.pane.addClass("active"),a.doc.bind(d,a.events[s]).bind(y,a.events[S]),a.body.bind(u,a.events[l]),!1}}(this),drag:function(a){return function(t){return a.sliderY=t.pageY-a.$el.offset().top-a.paneTop-(a.offsetY||.5*a.sliderHeight),a.scroll(),a.contentScrollTop<a.maxScrollTop||a.prevScrollTop===a.maxScrollTop?0===a.contentScrollTop&&0!==a.prevScrollTop&&a.$el.trigger("scrolltop"):a.$el.trigger("scrollend"),!1}}(this),up:function(a){return function(){return a.isBeingDragged=!1,a.pane.removeClass("active"),a.doc.unbind(d,a.events[s]).unbind(y,a.events[S]),a.body.unbind(u,a.events[l]),!1}}(this),resize:function(a){return function(){a.reset()}}(this),panedown:function(a){return function(t){return a.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*a.sliderHeight,a.scroll(),a.events.down(t),!1}}(this),scroll:function(a){return function(t){a.updateScrollValues(),a.isBeingDragged||(a.iOSNativeScrolling||(a.sliderY=a.sliderTop,a.setOnScrollStyles()),null!=t&&(a.contentScrollTop<a.maxScrollTop?0===a.contentScrollTop&&(a.options.preventPageScrolling&&a.preventScrolling(t,S),0!==a.prevScrollTop&&a.$el.trigger("scrolltop")):(a.options.preventPageScrolling&&a.preventScrolling(t,r),a.prevScrollTop!==a.maxScrollTop&&a.$el.trigger("scrollend"))))}}(this),wheel:function(a){return function(t){var n;return null!=t?(n=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail,n&&(a.sliderY+=-n/3),a.scroll(),!1):void 0}}(this),enter:function(a){return function(t){var n;return a.isBeingDragged&&1!==(t.buttons||t.which)?(n=a.events)[S].apply(n,arguments):void 0}}(this)}},c.prototype.addEvents=function(){var a;this.removeEvents(),a=this.events,this.options.disableResize||this.win.bind(v,a[v]),this.iOSNativeScrolling||(this.slider.bind(p,a[r]),this.pane.bind(p,a[w]).bind(""+g+" "+o,a[A])),this.$content.bind(""+k+" "+g+" "+o+" "+T,a[k])},c.prototype.removeEvents=function(){var a;a=this.events,this.win.unbind(v,a[v]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+k+" "+g+" "+o+" "+T,a[k])},c.prototype.generate=function(){var a,n,e,o,r,s,l;return o=this.options,s=o.paneClass,l=o.sliderClass,a=o.contentClass,(r=this.$el.children("."+s)).length||r.children("."+l).length||this.$el.append('<div class="'+s+'"><div class="'+l+'" /></div>'),this.pane=this.$el.children("."+s),this.slider=this.pane.find("."+l),0===i&&b()?(e=t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),n={right:-14,paddingRight:+e+14}):i&&(n={right:-i},this.$el.addClass("has-scrollbar")),null!=n&&this.$content.css(n),this},c.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},c.prototype.reset=function(){var a,t,n,o,r,s,l,c,h,p,u,d;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),a=this.content,o=a.style,r=o.overflowY,e&&this.$content.css({height:this.$content.height()}),t=a.scrollHeight+i,p=parseInt(this.$el.css("max-height"),10),p>0&&(this.$el.height(""),this.$el.height(a.scrollHeight>p?p:a.scrollHeight)),l=this.pane.outerHeight(!1),h=parseInt(this.pane.css("top"),10),s=parseInt(this.pane.css("bottom"),10),c=l+h+s,d=Math.round(c/t*c),d<this.options.sliderMinHeight?d=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&d>this.options.sliderMaxHeight&&(d=this.options.sliderMaxHeight),r===k&&o.overflowX!==k&&(d+=i),this.maxSliderTop=c-d,this.contentHeight=t,this.paneHeight=l,this.paneOuterHeight=c,this.sliderHeight=d,this.paneTop=h,this.slider.height(d),this.events.scroll(),this.pane.show(),this.isActive=!0,a.scrollHeight===a.clientHeight||this.pane.outerHeight(!0)>=a.scrollHeight&&r!==k?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===a.scrollHeight&&r===k?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),n=this.$content.css("position"),("static"===n||"relative"===n)&&(u=parseInt(this.$content.css("right"),10),u&&this.$content.css({right:"",marginRight:u})),this)},c.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},c.prototype.scrollBottom=function(a){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-a).trigger(g),this.stop().restore(),this):void 0},c.prototype.scrollTop=function(a){return this.isActive?(this.$content.scrollTop(+a).trigger(g),this.stop().restore(),this):void 0},c.prototype.scrollTo=function(a){return this.isActive?(this.scrollTop(this.$el.find(a).get(0).offsetTop),this):void 0},c.prototype.stop=function(){return $&&this.scrollRAF&&($(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},c.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),e&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},c.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(a){return function(){a.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},c}(),a.fn.nanoScroller=function(t){return this.each(function(){var n,e;if((e=this.nanoscroller)||(n=a.extend({},E,t),this.nanoscroller=e=new f(this,n)),t&&"object"==typeof t){if(a.extend(e.options,t),null!=t.scrollBottom)return e.scrollBottom(t.scrollBottom);if(null!=t.scrollTop)return e.scrollTop(t.scrollTop);if(t.scrollTo)return e.scrollTo(t.scrollTo);if("bottom"===t.scroll)return e.scrollBottom(0);if("top"===t.scroll)return e.scrollTop(0);if(t.scroll&&t.scroll instanceof a)return e.scrollTo(t.scroll);if(t.stop)return e.stop();if(t.destroy)return e.destroy();if(t.flash)return e.flash()}return e.reset()})},a.fn.nanoScroller.Constructor=f}(jQuery,window,document);